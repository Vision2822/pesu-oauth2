{% extends "layout.html" %}
{% block title %}Transparency - PESU OAuth2{% endblock %}
{% block content %}
<div class="container docs-content">
    <div class="text-center">
        <h1 class="display-4 fw-bold mb-4">Our Commitment to Transparency</h1>
        <p class="lead">Trust is paramount. Hereâ€™s a breakdown of how our service works and the principles we follow to protect your data and privacy.</p>
    </div>

    <section class="my-5">
        <h2>Core Principles</h2>
        <div class="list-group list-group-flush">

            <div class="list-group-item bg-transparent text-light py-4">
                <h5 class="fw-bold">1. Open Source by Default</h5>
                <p class="text-muted">This entire project is open source. Every line of code that runs on our server is publicly available for inspection, scrutiny, and contribution. We believe that transparency in our code is the strongest guarantee of our intentions.</p>
                {% if repo_url %}
                    <a href="{{ repo_url }}" class="btn btn-secondary" target="_blank" rel="noopener">View Source on GitHub</a>
                {% else %}
                    <p class="text-muted"><em>Source code repository link is available on production deployments.</em></p>
                {% endif %}
            </div>

            <div class="list-group-item bg-transparent text-light py-4">
                <h5 class="fw-bold">2. Your Password is Never Shared or Stored</h5>
                <p class="text-muted">This is the most critical security promise of our service. When an application asks you to log in, you are redirected to the official <strong>pesuacademy.com</strong> website. You enter your password directly on their server, not ours. Our service only receives a confirmation from PESU Academy that your login was successful. We never see, handle, or store your password.</p>
            </div>

            <div class="list-group-item bg-transparent text-light py-4">
                <h5 class="fw-bold">3. Minimal Data, Maximum Control</h5>
                <p class="text-muted">We only store the absolute minimum data required for the service to function. When you log in for the first time, we cache your basic profile data (like name, PRN, SRN) to avoid repeatedly scraping the PESU website, which makes the service faster for you. This data is only ever shared with an application after you have given your explicit consent on the "Authorize" screen. You are always in control of which applications can access which parts of your data (scopes).</p>
            </div>

            <div class="list-group-item bg-transparent text-light py-4">
                <h5 class="fw-bold">4. Industry-Standard Security (PKCE)</h5>
                <p class="text-muted">We enforce the use of Proof Key for Code Exchange (PKCE), an industry-standard security extension to OAuth2. Think of it as a secret handshake between the application on your device and our server. It ensures that even if the authorization code is intercepted during the login flow, it cannot be misused by an attacker.</p>
            </div>

            <div class="list-group-item bg-transparent text-light py-4">
                <h5 class="fw-bold">5. Verifiable Deployments</h5>
                <p class="text-muted">To prove that the code running on this server is the same as the code in our public repository, this service is deployed directly from GitHub. You can verify the exact version of the code currently running by checking the commit hash below.</p>
                {% if commit_url %}
                    <div class="card mt-3" style="background-color: #111; border-color: var(--bs-border-color);">
                        <div class="card-body">
                            <h6 class="card-title">Current Deployment Source</h6>
                            <p class="font-monospace mb-0">
                                <a href="{{ commit_url }}" target="_blank" rel="noopener">{{ commit_url }}</a>
                            </p>
                        </div>
                    </div>
                {% else %}
                    <p class="text-muted mt-3"><em>Deployment source verification is available on production deployments.</em></p>
                {% endif %}
            </div>

        </div>
    </section>
</div>
{% endblock %}
